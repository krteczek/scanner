<?php
// /scanner/autoloader.php

declare(strict_types=1);

// âœ… 1. NEJDÅ˜ÃV NAÄŒÃST LOGGER SYSTÃ‰M Z KRS3
require_once __DIR__ . '/../krs3/app/Logger/Logger.php';
require_once __DIR__ . '/../krs3/app/Logger/AdvancedLogger.php';

// âœ… 2. AUTOLOADER PRO SCANNER TÅ˜ÃDY
spl_autoload_register(function ($className) {
    $prefix = 'Scanner\\';
    $baseDir = __DIR__ . '/src/';

    $len = strlen($prefix);
    if (strncmp($prefix, $className, $len) !== 0) {
        //echo "ğŸ”§ AUTOLOADER: PÅ™eskoÄeno - nesedÃ­ prefix '$prefix'<br>";
        return;
    }

    $relativeClass = substr($className, $len);
    $file = $baseDir . str_replace('\\', '/', $relativeClass) . '.php';

    if (file_exists($file)) {
        require_once $file;
        echo "ğŸ”§ AUTOLOADER: âœ… NaÄteno: $file<br>";
    } else {
        echo "ğŸ”§ AUTOLOADER: âŒ Soubor nenalezen: $file<br>";
    }
});

echo "ğŸ”§ AUTOLOADER: RegistrovÃ¡n<br>";