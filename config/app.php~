<?php
// scanner/config/app.php
/**
 * Scanner Configuration
 *
 * @package Scanner
 * @author KRS3
 * @version 2.0
 */

declare(strict_types=1);

return [
    'app' => [
        'name' => 'Project Scanner',
        'version' => '2.0',
        'environment' => 'development'
    ],

	'paths' => [
	    'projects_root' => dirname(__DIR__, 2),     // /opt/lampp/htdocs
	    'scanner_root' => dirname(__DIR__, 1),         // /opt/lampp/htdocs/scanner
	    'templates' => dirname(__DIR__, 1) . '/templates/',  // /opt/lampp/htdocs/scanner/templates
	    'public' => dirname(__DIR__, 1) . '/public/',        // /opt/lampp/htdocs/scanner/public
	],

    'system' => [
        // Fallback cesty pro PHP (použije se pouze pokud auto-detekce selže)
        'windows_php_path' => 'C:\\xampp\\php\\php.exe',
        'linux_php_path' => '/opt/lampp/bin/php',
        'mac_php_path' => '/usr/bin/php',
        
        // Nastavení scanneru
        'check_syntax' => true,
        'max_execution_time' => 30
    ],
    
    'scanner' => [
        'scan_all_files' => true,
        'max_file_size_mb' => 10,
        'show_file_sizes' => true,
        'analyze_php' => true,
        'check_htaccess' => true,
        'never_assume' => true
    ],

    'important_files' => [
        'app/Core/Config.php',
        'app/Core/Router.php',
        'public/index.php',
        'app/Services/DatabaseService.php',
        'app/Auth/LoginService.php'
    ],

    'file_patterns' => ['*.php', '.htaccess', '*.md', '*.sql'],

'ignore_patterns' => [
    // Adresáře (s lomítkem)
    'vendor/',
    'node_modules/',
    '.git/',
    'logs/',
    'tmp/',
    '__pycache__/',
    '.idea/',
    '.vscode/',
    
    // Soubory (přesné názvy)
    '.gitignore',
    '.gitattributes',
    'composer.lock',
    'package-lock.json',
    '.env',
    '.env.local',
    '.env.example',
    
    // Glob patterns
    '*.log',
    '*.bak',
    '*.tmp',
    '*.swp',
    '*.~',          // soubory končící na .~ (app.php~)
    '*~',           // soubory končící na ~ (app~)
    '#*#',          // emacs backup (#file#)
    '*.zip',
    '*.tar.gz',
    
    // Speciální symboly
    '~',            // soubory s názvem "~" (velmi vzácné)
    '#'             // soubory s názvem "#" (velmi vzácné)
],    'output' => [
        'format' => 'text_tree',
        'include_important_files_check' => true
    ],
    'logs' => [
        'level' => 'DEBUG',        // DEBUG, INFO, WARNING, ERROR, CRITICAL, EXCEPTION, NONE
        'echo' => true,           // Vypnout výpis na obrazovku v produkci
        'file' => true,            // Zapnout zápis do souboru
        'rotation' => 'daily',     // daily, hourly, size, none
        'max_size' => 10240,    // 10MB (pro size rotaci)
        'max_files' => 30,         // Počet souborů k uchování
        'dir' => __DIR__ . '/../logs/',
        'file' => 'app.log'
    ],

];
?>